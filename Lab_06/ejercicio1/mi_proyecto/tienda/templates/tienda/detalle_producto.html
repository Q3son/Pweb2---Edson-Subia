{% extends 'tienda/base.html' %}

{% block content %}
<h2>Detalle de Producto: {{ producto.nombre }}</h2>
<div class="card">
    <div class="card-body">
        <h5 class="card-title">{{ producto.nombre }}</h5>
        <p class="card-text">
            <strong>Código:</strong> {{ producto.codigo }}<br>
            <strong>Precio:</strong> S/ {{ producto.precio }}<br>
            <strong>Stock:</strong> {{ producto.stock }}<br>
            <strong>Descripción:</strong> {{ producto.descripcion }}
        </p>
    </div>
</div>

<h3 class="mt-4">Ventas de este producto</h3>
<table class="table">
    <thead>
        <tr>
            <th>Fecha</th>
            <th>Cantidad</th>
            <th>Cliente</th>
        </tr>
    </thead>
    <tbody>
        {% for venta in ventas %}
        <tr>
            <td>{{ venta.fecha|date:"d/m/Y H:i" }}</td>
            <td>{{ venta.cantidad }}</td>
            <td>{{ venta.cliente|default:"-" }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No hay ventas registradas para este producto</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<a href="{% url 'lista_productos' %}" class="btn btn-primary">Volver a Productos</a>
{% endblock %}